# Example values for using AWS credentials from Kubernetes secret
# Install with: helm install my-app ./helm/spark-stream-table -f examples/values-with-aws-secret.yaml

# First, create the secret:
# kubectl create secret generic aws-credentials \
#   --from-literal=access-key-id=YOUR_ACCESS_KEY \
#   --from-literal=secret-access-key=YOUR_SECRET_KEY \
#   --from-literal=session-token=YOUR_SESSION_TOKEN  # Optional for temporary credentials

# Image configuration
image:
  repository: spark-stream-table
  tag: "latest"
  pullPolicy: IfNotPresent

# Spark configuration
spark:
  mode: driver
  parallelism: 2
  driver:
    memory: "1g"
    cores: 1
  executor:
    memory: "1g"
    cores: 1

# Source table configuration
table:
  namespace: "raw_data"
  name: "test_table"
  catalogType: "s3tables"
  s3TableBucketArn: "arn:aws:s3tables:eu-central-1:123456789012:bucket/my-bucket"

# Kafka configuration
kafka:
  bootstrapServers: "bastion.ocp.tangram-soft.com:31700"
  outputTopic: "iceberg-output-topic"
  securityProtocol: "PLAINTEXT"

# AWS configuration with secret
aws:
  region: "eu-central-1"
  credentials:
    useSecret: true
    secretName: "aws-credentials"
    accessKeyIdKey: "access-key-id"
    secretAccessKeyKey: "secret-access-key"
    sessionTokenKey: "session-token"  # Optional

# Application configuration
app:
  checkpointDir: "./checkpoints"
  triggerInterval: "10 seconds"

# Service configuration
service:
  type: NodePort
  port: 4040
  nodePort: 30040

# Resources
resources:
  limits:
    cpu: 2
    memory: 2Gi
  requests:
    cpu: 1
    memory: 1.5Gi

